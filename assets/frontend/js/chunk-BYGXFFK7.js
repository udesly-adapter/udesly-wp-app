import{a as H}from"./chunk-MM5PEOWL.js";var J=H((j,B)=>{(function(s,u){typeof j=="object"&&typeof B!="undefined"?u(j):typeof define=="function"&&define.amd?define(["exports"],u):u((s=typeof globalThis!="undefined"?globalThis:s||self).Eta={})})(j,function(s){"use strict";function u(e){var t,r,i=new Error(e);return t=i,r=u.prototype,Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r,i}function x(e,t,r){var i=t.slice(0,r).split(/\n/),n=i.length,a=i[n-1].length+1;throw u(e+=" at line "+n+" col "+a+`:

  `+t.split(/\n/)[n-1]+`
  `+Array(a).join(" ")+"^")}u.prototype=Object.create(Error.prototype,{name:{value:"Eta Error",enumerable:!1}});var N=new Function("return this")().Promise;function v(e,t){for(var r in t)i=t,n=r,Object.prototype.hasOwnProperty.call(i,n)&&(e[r]=t[r]);var i,n;return e}function M(e,t,r,i){var n,a;return Array.isArray(t.autoTrim)?(n=t.autoTrim[1],a=t.autoTrim[0]):n=a=t.autoTrim,(r||r===!1)&&(n=r),(i||i===!1)&&(a=i),a||n?n==="slurp"&&a==="slurp"?e.trim():(n==="_"||n==="slurp"?e=function(o){return String.prototype.trimLeft?o.trimLeft():o.replace(/^\s+/,"")}(e):n!=="-"&&n!=="nl"||(e=e.replace(/^(?:\r\n|\n|\r)/,"")),a==="_"||a==="slurp"?e=function(o){return String.prototype.trimRight?o.trimRight():o.replace(/\s+$/,"")}(e):a!=="-"&&a!=="nl"||(e=e.replace(/(?:\r\n|\n|\r)$/,"")),e):e}var z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function D(e){return z[e]}var _=/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})*}|(?!\${)[^\\`])*`/g,b=/'(?:\\[\s\w"'\\`]|[^\n\r'\\])*?'/g,E=/"(?:\\[\s\w"'\\`]|[^\n\r"\\])*?"/g;function I(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function W(e,t){var r=[],i=!1,n=0,a=t.parse;if(t.plugins)for(var o=0;o<t.plugins.length;o++)(O=t.plugins[o]).processTemplate&&(e=O.processTemplate(e,t));function g(d,y){d&&(d=M(d,t,i,y))&&(d=d.replace(/\\|'/g,"\\$&").replace(/\r\n|\n|\r/g,"\\n"),r.push(d))}t.rmWhitespace&&(e=e.replace(/[\r\n]+/g,`
`).replace(/^\s+|\s+$/gm,"")),_.lastIndex=0,b.lastIndex=0,E.lastIndex=0;for(var p,T=[a.exec,a.interpolate,a.raw].reduce(function(d,y){return d&&y?d+"|"+I(y):y?I(y):d},""),h=new RegExp("([^]*?)"+I(t.tags[0])+"(-|_)?\\s*("+T+")?\\s*","g"),c=new RegExp("'|\"|`|\\/\\*|(\\s*(-|_)?"+I(t.tags[1])+")","g");p=h.exec(e);){n=p[0].length+p.index;var m=p[1],f=p[2],$=p[3]||"";g(m,f),c.lastIndex=n;for(var l=void 0,A=!1;l=c.exec(e);){if(l[1]){var G=e.slice(n,l.index);h.lastIndex=n=c.lastIndex,i=l[2],A={t:$===a.exec?"e":$===a.raw?"r":$===a.interpolate?"i":"",val:G};break}var w=l[0];if(w==="/*"){var q=e.indexOf("*/",c.lastIndex);q===-1&&x("unclosed comment",e,l.index),c.lastIndex=q}else w==="'"?(b.lastIndex=l.index,b.exec(e)?c.lastIndex=b.lastIndex:x("unclosed string",e,l.index)):w==='"'?(E.lastIndex=l.index,E.exec(e)?c.lastIndex=E.lastIndex:x("unclosed string",e,l.index)):w==="`"&&(_.lastIndex=l.index,_.exec(e)?c.lastIndex=_.lastIndex:x("unclosed string",e,l.index))}A?r.push(A):x("unclosed tag",e,p.index+m.length)}if(g(e.slice(n,e.length),!1),t.plugins)for(o=0;o<t.plugins.length;o++){var O;(O=t.plugins[o]).processAST&&(r=O.processAST(r,t))}return r}function P(e,t){var r=W(e,t),i="var tR='',__l,__lP"+(t.include?",include=E.include.bind(E)":"")+(t.includeFile?",includeFile=E.includeFile.bind(E)":"")+`
function layout(p,d){__l=p;__lP=d}
`+(t.useWith?"with("+t.varName+"||{}){":"")+function(o,g){for(var p=0,T=o.length,h="";p<T;p++){var c=o[p];if(typeof c=="string")h+="tR+='"+c+`'
`;else{var m=c.t,f=c.val||"";m==="r"?(g.filter&&(f="E.filter("+f+")"),h+="tR+="+f+`
`):m==="i"?(g.filter&&(f="E.filter("+f+")"),g.autoEscape&&(f="E.e("+f+")"),h+="tR+="+f+`
`):m==="e"&&(h+=f+`
`)}}return h}(r,t)+(t.includeFile?"if(__l)tR="+(t.async?"await ":"")+"includeFile(__l,Object.assign("+t.varName+`,{body:tR},__lP))
`:t.include?"if(__l)tR="+(t.async?"await ":"")+"include(__l,Object.assign("+t.varName+`,{body:tR},__lP))
`:"")+"if(cb){cb(null,tR)} return tR"+(t.useWith?"}":"");if(t.plugins)for(var n=0;n<t.plugins.length;n++){var a=t.plugins[n];a.processFnString&&(i=a.processFnString(i,t))}return i}var C=new(function(){function e(t){this.cache=t}return e.prototype.define=function(t,r){this.cache[t]=r},e.prototype.get=function(t){return this.cache[t]},e.prototype.remove=function(t){delete this.cache[t]},e.prototype.reset=function(){this.cache={}},e.prototype.load=function(t){v(this.cache,t)},e}())({}),R={async:!1,autoEscape:!0,autoTrim:[!1,"nl"],cache:!1,e:function(e){var t=String(e);return/[&<>"']/.test(t)?t.replace(/[&<>"']/g,D):t},include:function(e,t){var r=this.templates.get(e);if(!r)throw u('Could not fetch template "'+e+'"');return r(t,this)},parse:{exec:"",interpolate:"=",raw:"~"},plugins:[],rmWhitespace:!1,tags:["<%","%>"],templates:C,useWith:!1,varName:"it"};function S(e,t){var r={};return v(r,R),t&&v(r,t),e&&v(r,e),r}function k(e,t){var r=S(t||{}),i=r.async?function(){try{return new Function("return (async function(){}).constructor")()}catch(n){throw n instanceof SyntaxError?u("This environment doesn't support async/await"):n}}():Function;try{return new i(r.varName,"E","cb",P(e,r))}catch(n){throw n instanceof SyntaxError?u(`Bad template syntax

`+n.message+`
`+Array(n.message.length+1).join("=")+`
`+P(e,r)+`
`):n}}function F(e,t){if(t.cache&&t.name&&t.templates.get(t.name))return t.templates.get(t.name);var r=typeof e=="function"?e:k(e,t);return t.cache&&t.name&&t.templates.define(t.name,r),r}function L(e,t,r,i){var n=S(r||{});if(!n.async)return F(e,n)(t,n);if(!i){if(typeof N=="function")return new N(function(a,o){try{a(F(e,n)(t,n))}catch(g){o(g)}});throw u("Please provide a callback function, this env doesn't support Promises")}try{F(e,n)(t,n,i)}catch(a){return i(a)}}s.compile=k,s.compileToString=P,s.config=R,s.configure=function(e){return v(R,e)},s.defaultConfig=R,s.getConfig=S,s.parse=W,s.render=L,s.renderAsync=function(e,t,r,i){return L(e,t,Object.assign({},r,{async:!0}),i)},s.templates=C,Object.defineProperty(s,"__esModule",{value:!0})})});export{J as a};
